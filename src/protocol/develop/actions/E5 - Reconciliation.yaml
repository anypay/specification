#
# Reconciliation Action: to be used at the direction of the administration to fix record keeping errors with bitcoin and token balances.
#

id: E5

metadata:
  name: Reconciliation
  label: Reconciliation
  description: >
    The contract responding to an Order action to reconcile assets.
    To be used at the direction of the administration to fix record keeping errors with bitcoin and token balances.
  validation: AssetCreation
  rejection: Rejection

  inputs:
    - name: Contract
      label: Contract Public Address
      comments: "The contract that is performing this action."

  outputs:
    - name: TargetX
      label: Target Public Address X
      comments: 546 minimum.  If N bitcoin needs to be sent to the address, then this will be the output that receives the Bitcoin.

fields:
  - name: AssetType
    label: Asset Type
    description: "Three letter character that specifies the asset type."
    type: fixedchar
    size: 3
    example: "SHC"

  - name: AssetCode
    label: Asset Code
    description: A unique code that is used to identify the asset. It is generated by hashing the contract public key hash and the asset index. SHA256(contract PKH + asset index)
    type: AssetCode
    notes: "Cannot be changed by the administration, operator or smart contract."

  - name: Quantities
    label: Quantities
    description: "The holders effected by the reconciliation and their balance remaining."
    type: QuantityIndex[]
    # array size is number of bits to serialize the size of the array
    size: 2

  - name: Timestamp
    label: Timestamp
    description: "Timestamp in nanoseconds of when the smart contract created the action."
    type: Timestamp
    example: "Wed May 09 2018 00:00:00 GMT+1000 (AEST)"
    notes: "Cannot be changed by the administration, operator. Smart contract controls."
