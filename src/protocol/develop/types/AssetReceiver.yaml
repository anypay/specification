metadata:
  name: AssetReceiver
  label: AssetReceiver
  description: "An AssetReceiver is a quantity, address, and oracle signature. The quantity could be used to describe a number of tokens, or a value. The address is where the asset will be sent."

fields:
  - name: Address
    label: Address
    description: "The address receiving the tokens"
    type: PublicKeyHash
    example: "0102030405060708090a0b0c0d0e0f1011121314"

  - name: Quantity
    label: Quantity
    description: "Number of tokens to be received by address at Output X"
    type: uint
    size: 8
    example: 100

  - name: OracleSigAlgorithm
    label: Oracle Signature Algorithm
    description: "0 = No Oracle-signed Message (OracleConfirmationSig skipped in serialization), 1 = ECDSA+secp256k1. If the contract for the asset being received has oracles, then a signature is required from one of them."
    type: uint
    size: 1
    example: 1
    int_values:
      - 0
      - 1

  - name: OracleIndex
    label: Oracle Index
    description: Specifies the index into the list of oracles in the contract offer that was used to authorize this transfer.
    type: uint
    size: 1
    example: 1
    include_if_int:
      field: OracleSigAlgorithm
      values:
        - 1

  - name: OracleConfirmationSig
    label: Oracle Confirmation Signature
    description: "Length 0-255 bytes. If restricted to a oracle (whitelist) or has transfer restrictions (age, location, investor status): ECDSA+secp256k1 (or the like) signed message provided by an approved/trusted oracle through an API signature of the defined message. If no transfer restrictions(trade restriction/age restriction fields in the Asset Type payload. or restricted to a whitelist by the Contract Auth Flags, it is a NULL field."
    type: varbin
    # varbin size is number of bytes to serialize the size of the value
    size: 1
    example: "1fa743904ad9c0bd5c5f457ffae9d897cd3bbbb3625cca639e6e48951966c0e4865ee0fbad730a82be1a986940440bef2b159ae0029494b95d114d846ac3b8d6aa"
    include_if_int:
      field: OracleSigAlgorithm
      values:
        - 1

  - name: OracleSigBlockHeight
    label: Oracle Signature Block height
    description: The block height of the block hash used in the oracle signature.
    type: uint
    size: 4
    example: 594733
    include_if_int:
      field: OracleSigAlgorithm
      values:
        - 1
